<html>
    <head>
        <title>Gallery</title>
        <link rel="stylesheet" href="index.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
        <style>
            .fadeOut{
                opacity:0.6;
                transition: opacity 0.5s ease-in-out;
            }
            .card {
                position: relative;
                width: 250px;
                height: 350px;
            }
            .card img {
                width: 100%;
                height: 65%;
            }

            button {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                -ms-transform: translate(-50%, -50%);
                background-color: teal;
                color: white;
                font-size: 16px;
                padding: 12px 24px;
                border: none;
                cursor: pointer;
                border-radius: 5px;
            }

            .grid-container {
                display: grid;
                grid-template-columns: auto auto auto;
                grid-auto-rows: auto;
                grid-gap: 10px;
                margin-left: 300px;
                margin-top: 10px;
            }

            .grid-item {
                padding: 20px;
                text-align: center;
            }

        </style>
        <script>
            $(document).ready(function(){
                $.get("http://localhost:8000/api/projects",(data) => {
                    if(data.success) {
                        display = [];
                        for(var i=0;i<data.message.length;i++)  {
                            var value = data.message[i];
                            var image = value.image;
                            display = "<div class='grid-item'><div class='card' id="+ i +"><img src='" + image + "' id='c"+ i +"' width='100%' height='65%'><button class='button' id='b"+ i +"' data-toggle='modal' data-target='#exampleModalCenter'>View</button><div class='card-body'><div class='card-title'><h2>"+ value.name +"</h2></div>" + value.info + "<br/><b>Address: </b>" + value.address + "</div></div>";
                            $(".grid-container").append(display);
                            $(".button").hide();
                        }
                        $(".card").mouseover(function() {
                            var id = "#c" + this.id;
                            var id_button = "#b" + this.id;
                            $(id).addClass("fadeOut");
                            $(id_button).show();
                        });
                        $(".card").mouseout(function() {
                            var id = "#c" + this.id;
                            var id_button = "#b" + this.id;
                            $(id).removeClass("fadeOut");
                            $(id_button).hide();
                        });
                        $("button").click(function(e) {
                            var image = data.message[e.target.id[1]].image;
                            $("#ex").attr("src",image);
                        });
                    }
                });
            });
        </script>
    </head>
    <body>
        <div class="sidenav">
            <a href="#" id="option1" style="margin-top: 100px;"><i class="fa fa-home" style="font-size:18px; margin-right: 10px;"></i>Residential</a>
            <hr/>
            <a href="#" id="option2"><i class="fa fa-building" style="font-size:18px; margin-right: 10px;"></i>Commercial</a>
            <hr/>
        </div>
        <div class="navbar navbar-expand-lg">
            <a class="navbar-brand" id="brand" style="color: white !important;">Gallery</a>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="main.html"><i class="fa fa-angle-left" style="font-size: 20px; color: white !important;"></i></a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="grid-container"></div>
        <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="margin: -8.5rem -1rem -1rem 220px !important">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <img id="ex" style="width: 100%; height: 200px;" />
                    </div>
                    <div class="modal-footer">
                        <br/>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>